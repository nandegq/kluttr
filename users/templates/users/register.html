{% extends "base.html" %}

{% block title %}Sign Up | kluttr.{% endblock %}

{% block content %}
<div class="max-w-md mx-auto mt-16">
    <h3 class="text-2xl font-semibold text-center mb-6">Create Your kluttr. Account</h3>

    <form method="post" class="space-y-4 bg-white p-6 rounded-xl shadow-md">
        {% csrf_token %}

        <!-- Username Field -->
        <div>
            <label for="id_username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
            <input type="text" name="username" id="id_username" placeholder="Enter your username"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
                value="{{ form.username.value|default:'' }}">
            {% if form.username.errors %}
            <p class="text-red-500 text-sm">{{ form.username.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- Email Field -->
        <div>
            <label for="id_email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input type="email" name="email" id="id_email" placeholder="Enter your email"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
                value="{{ form.email.value|default:'' }}">
            {% if form.email.errors %}
            <p class="text-red-500 text-sm">{{ form.email.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- Password Field -->
        <div>
            <label for="id_password1" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <input type="password" name="password1" id="id_password1" placeholder="Enter your password"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
            {% if form.password1.errors %}
            <p class="text-red-500 text-sm">{{ form.password1.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- Confirm Password Field -->
        <div>
            <label for="id_password2" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
            <input type="password" name="password2" id="id_password2" placeholder="Confirm your password"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
            {% if form.password2.errors %}
            <p class="text-red-500 text-sm">{{ form.password2.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- User Type -->
        <div>
            <label for="id_user_type" class="block text-sm font-medium text-gray-700 mb-1">I am a</label>
            <select name="user_type" id="id_user_type"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="">Select one</option>
                {% for value, label in form.fields.user_type.choices %}
                {% if value|stringformat:"s" == form.user_type.value|stringformat:"s" %}
                <option value="{{ value }}" selected>{{ label }}</option>
                {% else %}
                <option value="{{ value }}">{{ label }}</option>
                {% endif %}
                {% endfor %}
            </select>
            {% if form.user_type.errors %}
            <p class="text-red-500 text-sm">{{ form.user_type.errors.0 }}</p>
            {% endif %}
            <!-- Submit Button -->
            <div>
                <button type="submit" href="{% url 'login' %}"
                    class="w-full bg-blue-500 text-white font-medium py-2 rounded-lg hover:bg-blue-600 transition-colors">
                    Register
                </button>
            </div>
    </form> <!-- Close the form here -->
</div> <!-- Close the container div -->

{% endblock %}